angular.module("MyApp").controller("ProfileCtrl",["$scope","$routeParams","$rootScope","$location","$window","Profile","Activity","fb_appId","Session","Auth",function(e,i,o,t,s,n,c,r,l,u){s.scrollTo(0,0),e.session=l,e.session.success(function(e){console.log("Data: "+e.session),"expired"==e.session&&(s.fbAsyncInit=function(){FB.init({appId:r,responseType:"token",version:"v2.2",cookie:!0,status:!0,xfbml:!0}),u.logout()})}),n.get({_id:i.id},function(i){e.profile=i,s.fbAsyncInit=function(){FB.init({appId:r,responseType:"token",version:"v2.2",cookie:!0,status:!0,xfbml:!0})},e.profilePicture="https://graph.facebook.com/v2.2/"+i.facebookId+"/picture?type=large",e.subscribedActivities=[],e.subscribeCount=0;for(var o=0;o<e.profile.subscribedActivities.length;o++)++e.subscribeCount,e.subscribedActivities[o]=c.get({_id:e.profile.subscribedActivities[o]});e.doneActivities=[],e.doneCount=0;for(var o=0;o<e.profile.doneActivities.length;o++)++e.doneCount,e.doneActivities[o]=c.get({_id:e.profile.doneActivities[o]})}),e.go=function(e){t.path(e)},e.userMenu=function(){var e=document.getElementById("user-menu-drawer");e.style&&(e.style.display="block"==e.style.display?"none":"block")}}]);